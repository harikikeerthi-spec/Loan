<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Community Hub | LoanHero</title>
    <meta name="description" content="Join the conversation with students and mentors." />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        rel="stylesheet" />

    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <link href="assets/css/main.css" rel="stylesheet" />

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        "display": ["'Noto Serif'", "serif"],
                        "sans": ["'Noto Sans'", "sans-serif"],
                    },
                    colors: {
                        primary: '#6605c7', // Added for Navbar compatibility
                        "background-light": "#f7f5f8",
                        "background-dark": "#190f23",
                        "gold-accent": "#e0c389",
                        brand: {
                            50: '#f0fdfa',
                            100: '#ccfbf1',
                            200: '#99f6e4',
                            300: '#5eead4',
                            400: '#2dd4bf',
                            500: '#14b8a6',
                            600: '#0d9488',
                            700: '#0f766e',
                            800: '#115e59',
                            900: '#134e4a',
                            950: '#042f2e',
                        },
                        accent: {
                            50: '#fdf4ff',
                            100: '#fae8ff',
                            200: '#f5d0fe',
                            300: '#f0abfc',
                            400: '#e879f9',
                            500: '#d946ef',
                            600: '#c026d3',
                            700: '#a21caf',
                            800: '#86198f',
                            900: '#701a75',
                            950: '#4a044e',
                        }
                    },
                    backgroundImage: {
                        'mesh-gradient': 'radial-gradient(at 0% 0%, rgba(102, 5, 199, 0.4) 0px, transparent 50%), radial-gradient(at 100% 0%, rgba(224, 195, 137, 0.5) 0px, transparent 50%), radial-gradient(at 100% 100%, rgba(139, 192, 232, 0.4) 0px, transparent 50%), radial-gradient(at 0% 100%, rgba(102, 5, 199, 0.3) 0px, transparent 50%)',
                    },
                    animation: {
                        'blob': 'blob 7s infinite',
                        'fade-in-up': 'fadeInUp 0.5s ease-out forwards',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        },
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- Custom Styles -->
    <style>
        .glass-panel {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .dark .glass-panel {
            background: rgba(17, 24, 39, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.1);
            border-color: rgba(99, 102, 241, 0.3);
        }

        .gradient-text {
            background: linear-gradient(135deg, #0d9488 0%, #7c3aed 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: rgba(156, 163, 175, 0.3);
            border-radius: 20px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background-color: rgba(156, 163, 175, 0.5);
        }
    </style>
</head>

<body
    class="bg-background-light dark:bg-background-dark text-gray-900 dark:text-gray-100 min-h-screen selection:bg-primary/20 transition-colors duration-500 relative font-sans">

    <!-- Background Structure (Matching Index) -->
    <div class="fixed inset-0 z-0 bg-background-light dark:bg-background-dark pointer-events-none overflow-hidden">
        <div class="absolute inset-0 bg-mesh-gradient opacity-90"></div>
        <div class="absolute inset-0 opacity-30 mix-blend-overlay"
            style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuCSQJcRexkqlKu3kzwZCWIGdx9mSdhvK4Je6lxA9kVrWHQFg-ShCu6j3XLipgBh0waP45VYm3rBVD2Psy-FTMp2qLU946EXQwD2sIGZJLe5tw2ugWPYnnOTMWoTGM95X4u1epiDmYaEV_vVdH7tyv2ZlDuFjSMZlzWulHW3UyesMipUWi30MryHEiz-_Lje83ApXK-FpMUQdIEWe0M_ZFfiu3BcH1_opus8b5qOTiMh8tMBAX7ifzSLR_qpWnWtdB8obUzknDxLtfeP');">
        </div>
    </div>

    <!-- Navigation Placeholder -->
    <div id="navbar-placeholder"></div>

    <!-- Main Layout -->
    <main class="relative z-10 pt-28 pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">

        <!-- Header Section -->
        <div class="mb-12 relative">
            <div class="flex flex-col md:flex-row md:items-end justify-between gap-6">
                <div class="space-y-2">
                    <div class="flex items-center gap-3 mb-2">
                        <span id="topicBadge"
                            class="px-3 py-1 rounded-full text-[10px] font-bold tracking-widest uppercase bg-white/50 dark:bg-white/10 border border-white/20 backdrop-blur-sm shadow-sm text-brand-600 dark:text-brand-400">
                            Loading...
                        </span>
                        <div class="h-px flex-1 bg-gradient-to-r from-gray-200 dark:from-white/10 to-transparent"></div>
                    </div>
                    <h1 id="topicTitle"
                        class="text-5xl md:text-7xl font-display font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-gray-900 via-gray-700 to-gray-900 dark:from-white dark:via-gray-200 dark:to-gray-400 drop-shadow-sm">
                        Hub
                    </h1>
                    <p id="topicDescription" class="text-lg text-gray-600 dark:text-gray-400 max-w-2xl leading-relaxed">
                        Join the community discussion, ask questions from mentors, and share your journey.
                    </p>
                </div>

                <!-- Stats Cards -->
                <div class="flex gap-4">
                    <div
                        class="glass-panel p-4 rounded-2xl min-w-[120px] text-center transform hover:scale-105 transition-transform duration-300">
                        <span class="block text-2xl font-bold font-display text-brand-600 dark:text-brand-400"
                            id="statMembers">0</span>
                        <span class="text-xs text-gray-500 font-medium uppercase tracking-wider">Members</span>
                    </div>
                    <div
                        class="glass-panel p-4 rounded-2xl min-w-[120px] text-center transform hover:scale-105 transition-transform duration-300">
                        <span class="block text-2xl font-bold font-display text-accent-600 dark:text-accent-400"
                            id="statDiscussions">0</span>
                        <span class="text-xs text-gray-500 font-medium uppercase tracking-wider">Discussions</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trending Tags -->
        <div class="flex items-center gap-4 mb-8 overflow-hidden group">
            <div
                class="flex-shrink-0 flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-2xl border border-primary/20">
                <span class="material-symbols-outlined text-primary text-sm animate-pulse">local_fire_department</span>
                <span class="text-[10px] font-bold uppercase tracking-widest text-primary">Trending</span>
            </div>
            <div class="flex flex-wrap gap-3 overflow-x-auto no-scrollbar pb-1 flex-1">
                <a href="engage.html?topic=education" class="engage-tag">#Education</a>
                <a href="engage.html?topic=universities" class="engage-tag">#StudyAbroad</a>
                <a href="engage.html?topic=loan" class="engage-tag">#StudentLoans</a>
                <a href="engage.html?topic=visa" class="engage-tag">#VisaUpdates</a>
                <a href="engage.html?topic=scholarships" class="engage-tag">#Scholarships</a>
                <a href="engage.html?topic=gre" class="engage-tag">#GREPrep</a>
                <a href="engage.html?topic=general" class="engage-tag">#Masters2026</a>
                <a href="engage.html?topic=sop" class="engage-tag">#Admissions</a>
                <a href="engage.html?topic=banks" class="engage-tag">#LoanInterest</a>
            </div>
        </div>

        <style>
            .engage-tag {
                padding: 6px 16px;
                border-radius: 99px;
                background: white;
                border: 1px solid rgba(0, 0, 0, 0.05);
                font-size: 11px;
                font-weight: 700;
                color: #4b5563;
                transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02);
                white-space: nowrap;
            }

            .dark .engage-tag {
                background: rgba(255, 255, 255, 0.05);
                border-color: rgba(255, 255, 255, 0.05);
                color: #d1d5db;
                box-shadow: none;
            }

            .engage-tag:hover {
                transform: translateY(-2px);
                background: #6605c7;
                color: white !important;
                border-color: #6605c7;
                box-shadow: 0 8px 15px rgba(102, 5, 199, 0.2);
            }
        </style>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">

            <!-- Left Sidebar (Sticky) -->
            <div class="hidden lg:block lg:col-span-3 sticky top-32 space-y-6">
                <!-- Post New Question CTA -->
                <div id="postQuestionWidget"
                    class="glass-panel p-6 rounded-3xl border border-white/50 dark:border-white/10 shadow-xl shadow-brand-500/10 hover:shadow-brand-500/20 transition-all group">
                    <div class="text-center relative z-10">
                        <div
                            class="w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-brand-400 to-accent-500 p-0.5 mb-3 animate-pulse-slow">
                            <div
                                class="w-full h-full bg-white dark:bg-gray-900 rounded-full flex items-center justify-center">
                                <span
                                    class="material-symbols-rounded text-3xl text-transparent bg-clip-text bg-gradient-to-br from-brand-500 to-accent-500">add_comment</span>
                            </div>
                        </div>
                        <h3 class="font-bold text-gray-900 dark:text-white mb-1">Have a Question?</h3>
                        <p class="text-xs text-gray-500 mb-4">Get answers from mentors & peers</p>

                        <button id="startPostBtn"
                            class="block w-full py-3 rounded-xl bg-gradient-to-r from-brand-600 to-accent-600 hover:from-brand-500 hover:to-accent-500 text-white font-bold text-sm shadow-lg shadow-brand-500/30 hover:shadow-brand-500/50 transition-all hover:-translate-y-0.5 flex items-center justify-center gap-2">
                            <span class="material-symbols-rounded text-lg">edit_square</span>
                            Post a New Question
                        </button>
                    </div>
                    <!-- Background Glow -->
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-brand-500/5 to-accent-500/5 rounded-3xl -z-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                    </div>
                </div>

                <!-- Guidance Card -->
                <div class="glass-panel p-6 rounded-3xl relative overflow-hidden group">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-brand-500/10 to-accent-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                    </div>
                    <div class="relative z-10">
                        <div
                            class="w-10 h-10 rounded-xl bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center text-orange-600 dark:text-orange-400 mb-4">
                            <span class="material-symbols-rounded">lightbulb</span>
                        </div>
                        <h3 class="font-display font-bold text-lg mb-2">Mentor Tips</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed" id="mentorAdvice">
                            Connect with alumni from top universities worldwide for insider perspectives.
                        </p>
                    </div>
                </div>

                <!-- AI Moderator Widget -->
                <div class="glass-panel p-6 rounded-3xl relative overflow-hidden group border-brand-500/30">
                    <div class="absolute inset-0 bg-gradient-to-br from-brand-500/5 to-transparent"></div>
                    <div class="relative z-10">
                        <div class="flex items-center gap-3 mb-4">
                            <div
                                class="w-10 h-10 rounded-xl bg-brand-500/10 flex items-center justify-center text-brand-500">
                                <span class="material-symbols-rounded animate-spin-slow">psychology</span>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900 dark:text-white text-sm">AI Moderator</h3>
                                <p class="text-[10px] text-green-500 font-bold uppercase tracking-wider">Active Curation
                                </p>
                            </div>
                        </div>
                        <p class="text-xs text-gray-600 dark:text-gray-400 leading-relaxed">
                            Every discussion is cross-checked by our AI to ensure it stays relevant to <b>Education &
                                Loans</b>.
                        </p>
                        <div class="mt-4 pt-4 border-t border-gray-100 dark:border-white/5">
                            <div class="flex justify-between items-center text-[10px] font-bold text-gray-500">
                                <span>Topic Relevance</span>
                                <span class="text-brand-500">99.8%</span>
                            </div>
                            <div class="w-full h-1 bg-gray-100 dark:bg-white/5 rounded-full mt-1.5 overflow-hidden">
                                <div class="h-full bg-brand-500 rounded-full" style="width: 99.8%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Feed -->
            <div class="lg:col-span-6 space-y-8">

                <!-- Create Post Input (Legacy - Hidden) -->
                <div id="createPostContainer" class="hidden"></div>

                <!-- Feed Sort -->
                <div class="flex items-center justify-between px-2">
                    <h2 class="text-xl font-display font-bold text-gray-900 dark:text-white flex items-center gap-2">
                        Discussion Feed
                        <span class="flex h-2 w-2 relative">
                            <span
                                class="animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-2 w-2 bg-brand-500"></span>
                        </span>
                    </h2>
                    <div class="flex gap-2">
                        <button
                            class="px-4 py-1.5 rounded-full text-xs font-bold bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/10 transition-colors shadow-sm active">Latest</button>
                        <button
                            class="px-4 py-1.5 rounded-full text-xs font-bold bg-transparent text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors">Popular</button>
                    </div>
                </div>

                <!-- Feed Container -->
                <div id="postsContainer" class="space-y-6">
                    <!-- Loading Skeleton -->
                    <div class="glass-panel p-6 rounded-3xl animate-pulse">
                        <div class="flex gap-4 mb-4">
                            <div class="w-12 h-12 bg-gray-200 dark:bg-white/10 rounded-full"></div>
                            <div class="flex-1 space-y-2 py-1">
                                <div class="h-4 bg-gray-200 dark:bg-white/10 rounded w-1/4"></div>
                                <div class="h-3 bg-gray-200 dark:bg-white/10 rounded w-1/6"></div>
                            </div>
                        </div>
                        <div class="space-y-3">
                            <div class="h-4 bg-gray-200 dark:bg-white/10 rounded w-full"></div>
                            <div class="h-4 bg-gray-200 dark:bg-white/10 rounded w-5/6"></div>
                            <div class="h-4 bg-gray-200 dark:bg-white/10 rounded w-4/6"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Sidebar -->
            <div class="lg:col-span-3 space-y-6">
                <!-- Mentors Widget -->
                <div id="topicMentorsWidget" class="glass-panel p-6 rounded-3xl hidden">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-gray-900 dark:text-white">Top Mentors</h3>
                        <a href="community-mentorship.html"
                            class="text-xs font-bold text-brand-600 dark:text-brand-400 hover:underline">View All</a>
                    </div>
                    <div id="mentorsList" class="space-y-4"></div>
                </div>

                <!-- Events Widget -->
                <div id="topicEventsWidget" class="glass-panel p-6 rounded-3xl hidden">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-gray-900 dark:text-white">Events</h3>
                        <a href="community-events.html"
                            class="text-xs font-bold text-accent-600 dark:text-accent-400 hover:underline">Calendar</a>
                    </div>
                    <div id="eventsList" class="space-y-4"></div>
                </div>

                <!-- Resources Widget -->
                <div id="topicResourcesWidget" class="glass-panel p-6 rounded-3xl hidden">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-gray-900 dark:text-white">Resources</h3>
                        <a href="community-resources.html"
                            class="text-xs font-bold text-orange-600 dark:text-orange-400 hover:underline">Library</a>
                    </div>
                    <div id="resourcesList" class="space-y-4"></div>
                </div>

                <!-- Upcoming Events Widget -->
                <div
                    class="glass-panel p-6 rounded-3xl border border-white/50 dark:border-white/10 shadow-xl shadow-gray-200/50 dark:shadow-black/20 mb-6 group hover:border-primary/30 transition-colors">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-2">
                            <span class="material-symbols-rounded text-primary">event</span>
                            <h3 class="font-bold text-gray-900 dark:text-white font-display">Upcoming</h3>
                        </div>
                        <a href="community-events.html" class="text-xs font-bold text-primary hover:underline">View
                            All</a>
                    </div>
                    <div class="space-y-4">
                        <a href="community-events.html" class="block group/event">
                            <div class="flex gap-4 items-center">
                                <div
                                    class="flex-shrink-0 w-14 text-center bg-gray-50 dark:bg-white/5 rounded-2xl p-2 border border-gray-100 dark:border-white/5 group-hover/event:border-primary/30 transition-colors">
                                    <span
                                        class="block text-xs font-bold text-primary uppercase tracking-wider">Feb</span>
                                    <span
                                        class="block text-xl font-bold text-gray-900 dark:text-white leading-none mt-0.5">24</span>
                                </div>
                                <div>
                                    <h4
                                        class="text-sm font-bold text-gray-900 dark:text-white group-hover/event:text-primary transition-colors line-clamp-2">
                                        Study in UK: Visa & Loan Webinar</h4>
                                    <p class="text-xs text-gray-500 mt-1 flex items-center gap-1">
                                        <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span> Online • 4:00 PM
                                    </p>
                                </div>
                            </div>
                        </a>
                    </div>
                    <button
                        class="w-full mt-4 py-2 rounded-xl border border-gray-200 dark:border-white/10 text-xs font-bold text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
                        Add to Calendar
                    </button>
                </div>



                <!-- Explore Community Widget -->
                <div
                    class="glass-panel p-6 rounded-3xl border border-white/50 dark:border-white/10 shadow-xl shadow-gray-200/50 dark:shadow-black/20 hover:scale-[1.02] transition-transform duration-300">
                    <div class="flex items-center gap-4 mb-4">
                        <div
                            class="p-3 rounded-2xl bg-gradient-to-br from-brand-100 to-accent-100 dark:from-brand-900/40 dark:to-accent-900/40 text-brand-600 dark:text-brand-400 flex items-center justify-center">
                            <span class="material-symbols-rounded text-2xl">category</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-900 dark:text-white font-display text-lg">More Topics</h3>
                            <p class="text-xs text-gray-500">Explore all categories</p>
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">
                        Discover more communities, from university groups to scholarship discussions.
                    </p>
                    <a href="community-categories.html"
                        class="flex items-center justify-between w-full p-3 rounded-xl bg-gray-50 dark:bg-white/5 hover:bg-white dark:hover:bg-white/10 border border-gray-100 dark:border-white/5 transition-all group hover:border-brand-200 dark:hover:border-brand-800">
                        <span class="text-sm font-bold text-gray-700 dark:text-gray-200">View All Categories</span>
                        <span
                            class="material-symbols-rounded text-brand-500 text-sm group-hover:translate-x-1 transition-transform">arrow_forward</span>
                    </a>
                </div>
            </div>

        </div>
    </main>

    <!-- Post Wizard Modal -->


    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script src="assets/js/components-loader.js"></script>
    <script src="assets/js/theme-manager.js"></script>
    <script src="assets/js/theme-toggle.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/community-forum.js"></script>
    <script src="assets/js/community-mentorship.js"></script>
    <script src="assets/js/community-events.js"></script>
    <script src="assets/js/community-resources.js"></script>

</body>

</html>