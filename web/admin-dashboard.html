<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Admin Dashboard - LoanHero</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <link href="assets/css/main.css" rel="stylesheet" />
    <link href="assets/css/design-tokens.css" rel="stylesheet" />
    <link href="assets/css/admin-dashboard.css" rel="stylesheet" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#6605c7",
                        "background-light": "#f7f5f8",
                        "background-dark": "#190f23",
                        "gold-accent": "#e0c389",
                    },
                    fontFamily: {
                        "display": ["'Noto Serif'", "serif"],
                        "sans": ["'Noto Sans'", "sans-serif"],
                    },
                    backgroundImage: {
                        'mesh-gradient': 'radial-gradient(at 0% 0%, rgba(102, 5, 199, 0.4) 0px, transparent 50%), radial-gradient(at 100% 0%, rgba(224, 195, 137, 0.5) 0px, transparent 50%), radial-gradient(at 100% 100%, rgba(139, 192, 232, 0.4) 0px, transparent 50%), radial-gradient(at 0% 100%, rgba(102, 5, 199, 0.3) 0px, transparent 50%)',
                    }
                },
            },
        };
    </script>
    <style>
        .admin-sidebar {
            background: linear-gradient(135deg, rgba(102, 5, 199, 0.1) 0%, rgba(139, 192, 232, 0.05) 100%);
            border-right: 1px solid rgba(102, 5, 199, 0.2);
        }

        .dark .admin-sidebar {
            background: linear-gradient(135deg, rgba(102, 5, 199, 0.15) 0%, rgba(139, 192, 232, 0.08) 100%);
        }

        .admin-nav-item {
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            position: relative;
        }

        .admin-nav-item:hover {
            background: rgba(102, 5, 199, 0.1);
            border-left-color: #6605c7;
            transform: translateX(4px);
        }

        .admin-nav-item.active {
            background: rgba(102, 5, 199, 0.2);
            border-left-color: #6605c7;
            color: #6605c7;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(102, 5, 199, 0.05) 0%, rgba(139, 192, 232, 0.05) 100%);
            border: 1px solid rgba(102, 5, 199, 0.1);
        }

        .stat-card:hover {
            border-color: #6605c7;
            background: linear-gradient(135deg, rgba(102, 5, 199, 0.1) 0%, rgba(139, 192, 232, 0.08) 100%);
        }

        .admin-btn-primary {
            background: linear-gradient(135deg, #6605c7 0%, #7c3aed 100%);
            transition: all 0.3s ease;
        }

        .admin-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 5, 199, 0.3);
        }

        .admin-table {
            border-collapse: collapse;
        }

        .admin-table th {
            background: rgba(102, 5, 199, 0.1);
            color: #6605c7;
            font-weight: 600;
        }

        .admin-table tbody tr:hover {
            background: rgba(102, 5, 199, 0.05);
        }

        .dark .admin-table th {
            background: rgba(102, 5, 199, 0.2);
            color: #a855f7;
        }

        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-published {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .status-draft {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .status-pending {
            background: rgba(251, 146, 60, 0.2);
            color: #fb923c;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal-content {
            background: white;
            border-radius: 1rem;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        .dark .modal-content {
            background: #1a1a2e;
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .loading-spinner {
            display: inline-block;
            width: 1rem;
            height: 1rem;
            border: 2px solid rgba(102, 5, 199, 0.2);
            border-top-color: #6605c7;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .tab-container {
            display: none;
        }

        .tab-container.active {
            display: block;
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tab-button.active {
            border-bottom-color: #6605c7;
            color: #6605c7;
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark text-gray-900 dark:text-gray-100">
    <!-- Admin Container -->
    <div class="min-h-screen flex">
        <!-- Sidebar -->
        <div id="sidebar" class="w-64 admin-sidebar hidden lg:block shadow-lg">
            <div class="p-6 border-b border-gray-300 dark:border-gray-700">
                <h2 class="text-2xl font-display font-bold text-primary">Admin Panel</h2>
                <p class="text-sm text-gray-600 dark:text-gray-400 mt-1" id="adminName">Admin</p>
            </div>

            <!-- Navigation Menu -->
            <nav class="p-4 space-y-2">
                <button onclick="switchTab('dashboard')"
                    class="admin-nav-item active w-full text-left px-4 py-3 rounded-lg flex items-center gap-3">
                    <span class="material-symbols-outlined">dashboard</span>
                    <span>Dashboard</span>
                </button>
                <button onclick="switchTab('blogs')"
                    class="admin-nav-item w-full text-left px-4 py-3 rounded-lg flex items-center gap-3">
                    <span class="material-symbols-outlined">article</span>
                    <span>Blog Management</span>
                </button>
                <button onclick="window.location.href='create-blog-canva.html'"
                    class="admin-nav-item w-full text-left px-4 py-3 rounded-lg flex items-center gap-3">
                    <span class="material-symbols-outlined">add_circle</span>
                    <span>Create Blog</span>
                </button>
                <button onclick="switchTab('applications')"
                    class="admin-nav-item w-full text-left px-4 py-3 rounded-lg flex items-center gap-3">
                    <span class="material-symbols-outlined">description</span>
                    <span>Loan Applications</span>
                </button>
                <button onclick="switchTab('users')"
                    class="admin-nav-item w-full text-left px-4 py-3 rounded-lg flex items-center gap-3">
                    <span class="material-symbols-outlined">people</span>
                    <span>User Management</span>
                </button>
                <button onclick="switchTab('community')"
                    class="admin-nav-item w-full text-left px-4 py-3 rounded-lg flex items-center gap-3">
                    <span class="material-symbols-outlined">groups</span>
                    <span>Community Management</span>
                </button>
                <button onclick="switchTab('settings')"
                    class="admin-nav-item w-full text-left px-4 py-3 rounded-lg flex items-center gap-3">
                    <span class="material-symbols-outlined">settings</span>
                    <span>Settings</span>
                </button>
                <hr class="my-4 border-gray-300 dark:border-gray-700">
                <button onclick="logoutAdmin()"
                    class="admin-nav-item w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20">
                    <span class="material-symbols-outlined">logout</span>
                    <span>Logout</span>
                </button>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col">
            <!-- Top Navigation Bar -->
            <div
                class="glass-card border-b border-gray-300 dark:border-gray-700 px-6 py-4 flex justify-between items-center">
                <div class="flex items-center gap-4">
                    <button id="sidebarToggle" class="lg:hidden material-symbols-outlined text-2xl cursor-pointer">
                        menu
                    </button>
                    <h1 id="pageTitle" class="text-2xl font-display font-bold">Dashboard</h1>
                </div>
                <div class="flex items-center gap-4">
                    <button onclick="toggleTheme()"
                        class="material-symbols-outlined text-2xl cursor-pointer hover:text-primary">
                        light_mode
                    </button>
                    <img id="profileImage" src="https://api.dicebear.com/7.x/avataaars/svg?seed=admin" alt="Profile"
                        class="w-10 h-10 rounded-full cursor-pointer">
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="flex-1 overflow-auto p-6">
                <!-- Dashboard Tab -->
                <div id="dashboard" class="tab-container active">
                    <h2 class="text-3xl font-bold mb-6">Welcome to Admin Dashboard</h2>

                    <!-- Statistics Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="stat-card glass-card p-6 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm font-medium mb-2">Total Blogs</p>
                                    <p class="text-3xl font-bold" id="totalBlogs">0</p>
                                </div>
                                <span class="material-symbols-outlined text-3xl text-primary opacity-30">article</span>
                            </div>
                        </div>
                        <div class="stat-card glass-card p-6 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm font-medium mb-2">Published</p>
                                    <p class="text-3xl font-bold text-green-600" id="publishedBlogs">0</p>
                                </div>
                                <span
                                    class="material-symbols-outlined text-3xl text-green-600 opacity-30">check_circle</span>
                            </div>
                        </div>
                        <div class="stat-card glass-card p-6 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm font-medium mb-2">Drafts</p>
                                    <p class="text-3xl font-bold text-blue-600" id="draftBlogs">0</p>
                                </div>
                                <span
                                    class="material-symbols-outlined text-3xl text-blue-600 opacity-30">edit_note</span>
                            </div>
                        </div>
                        <div class="stat-card glass-card p-6 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm font-medium mb-2">Total Views</p>
                                    <p class="text-3xl font-bold text-purple-600" id="totalViews">0</p>
                                </div>
                                <span
                                    class="material-symbols-outlined text-3xl text-purple-600 opacity-30">visibility</span>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <!-- Recent Activity Section -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Quick Actions -->
                        <div class="glass-card p-6 rounded-lg h-fit">
                            <h3 class="text-xl font-bold mb-4">Quick Actions</h3>
                            <div class="space-y-3">
                                <button onclick="switchTab('create')"
                                    class="admin-btn-primary w-full text-white py-3 rounded-lg font-medium flex items-center justify-center gap-2 hover:shadow-lg transition-all">
                                    <span class="material-symbols-outlined">add_circle</span>
                                    Create New Blog
                                </button>
                                <button onclick="switchTab('blogs')"
                                    class="w-full py-3 rounded-lg font-medium flex items-center justify-center gap-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">
                                    <span class="material-symbols-outlined">edit_note</span>
                                    Manage Blogs
                                </button>
                                <button onclick="switchTab('users')"
                                    class="w-full py-3 rounded-lg font-medium flex items-center justify-center gap-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">
                                    <span class="material-symbols-outlined">manage_accounts</span>
                                    Manage Users
                                </button>
                                <button onclick="switchTab('applications')"
                                    class="w-full py-3 rounded-lg font-medium flex items-center justify-center gap-2 border border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-300 transition-all">
                                    <span class="material-symbols-outlined">description</span>
                                    View Applications
                                </button>
                            </div>
                        </div>

                        <!-- Activity Feed -->
                        <div class="glass-card p-6 rounded-lg lg:col-span-2">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-bold">Recent Activity</h3>
                                <button onclick="loadRecentActivity()"
                                    class="text-primary hover:underline text-sm flex items-center gap-1">
                                    <span class="material-symbols-outlined text-sm">refresh</span> Refresh
                                </button>
                            </div>

                            <div class="overflow-y-auto max-h-[500px] pr-2 custom-scrollbar" id="recentActivityList">
                                <div class="flex flex-col items-center justify-center py-10 text-gray-500">
                                    <div class="loading-spinner mb-2"></div>
                                    <p>Loading activity...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Blog Management Tab -->
                <div id="blogs" class="tab-container">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold">Blog Management</h2>
                        <button onclick="switchTab('create')"
                            class="admin-btn-primary text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2">
                            <span class="material-symbols-outlined">add</span>
                            Create Blog
                        </button>
                    </div>

                    <!-- Filter Options -->
                    <div class="glass-card p-4 rounded-lg mb-6 flex flex-col md:flex-row gap-4">
                        <input type="text" id="searchBlogs" placeholder="Search blogs..."
                            class="flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                        <select id="filterStatus"
                            class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                            <option value="">All Status</option>
                            <option value="published">Published</option>
                            <option value="draft">Draft</option>
                        </select>
                        <button onclick="loadBlogs()"
                            class="admin-btn-primary text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2">
                            <span class="material-symbols-outlined">search</span>
                            Search
                        </button>
                    </div>

                    <!-- Blogs Table -->
                    <div class="glass-card rounded-lg overflow-hidden">
                        <table class="admin-table w-full">
                            <thead>
                                <tr>
                                    <th class="px-6 py-4 text-left">Title</th>
                                    <th class="px-6 py-4 text-left">Author</th>
                                    <th class="px-6 py-4 text-left">Status</th>
                                    <th class="px-6 py-4 text-left">Views</th>
                                    <th class="px-6 py-4 text-left">Date</th>
                                    <th class="px-6 py-4 text-center">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="blogsList">
                                <tr>
                                    <td colspan="6" class="px-6 py-8 text-center text-gray-500">
                                        <div class="flex justify-center">
                                            <div class="loading-spinner"></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Create Blog Tab -->
                <div id="create" class="tab-container">
                    <h2 class="text-3xl font-bold mb-6">Create New Blog Post</h2>

                    <form id="createBlogForm" class="glass-card p-8 rounded-lg space-y-6"
                        onsubmit="handleCreateBlog(event)">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium mb-2">Blog Title *</label>
                                <input type="text" id="blogTitle" placeholder="Enter blog title" required
                                    class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Blog Slug *</label>
                                <input type="text" id="blogSlug" placeholder="blog-title" required
                                    class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium mb-2">Author Name *</label>
                                <input type="text" id="authorName" placeholder="Your name" required
                                    class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Category *</label>
                                <select id="category" required
                                    class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                                    <option value="">Select Category</option>
                                    <option value="Finance">Finance</option>
                                    <option value="Education">Education</option>
                                    <option value="Technology">Technology</option>
                                    <option value="News">News</option>
                                    <option value="Tips">Tips & Guides</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2">Excerpt *</label>
                            <textarea id="excerpt" placeholder="Short description of the blog post" rows="3" required
                                class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary resize-none"></textarea>
                        </div>

                    </form>

                    <!-- Blog Content Section with Tabs -->
                    <div>
                        <label class="block text-sm font-medium mb-2">Blog Content *</label>

                        <!-- Content Editor Tabs -->
                        <div class="mb-4">
                            <div class="flex border-b border-gray-300 dark:border-gray-600">
                                <button type="button" onclick="switchContentTab('simple')" id="simpleEditorTab"
                                    class="content-tab px-6 py-3 font-medium border-b-2 border-primary text-primary">
                                    Simple Editor
                                </button>
                                <button type="button" onclick="switchContentTab('visual')" id="visualBuilderTab"
                                    class="content-tab px-6 py-3 font-medium border-b-2 border-transparent text-gray-600 dark:text-gray-400 hover:text-primary">
                                    Visual Page Builder
                                </button>
                            </div>
                        </div>

                        <!-- Simple Text Editor -->
                        <div id="simpleEditor">
                            <textarea id="content" placeholder="Write your blog content here..." rows="8" required
                                class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary resize-none font-mono"></textarea>
                            <p class="text-xs text-gray-500 mt-2">Supports HTML and Markdown</p>
                        </div>

                        <!-- Visual Page Builder -->
                        <!-- <div id="visualBuilder" class="hidden">
                            <div class="grid grid-cols-12 gap-4">
                                Toolbar
                        <div class="col-span-12 lg:col-span-3">
                            <div id="builderToolbar"></div>
                            <div
                                class="mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg">
                                <p class="text-xs text-blue-800 dark:text-blue-300">
                                    <strong>ðŸ’¡ Tip:</strong> Drag blocks from here to the canvas to build your
                                    content!
                                </p>
                            </div>
                        </div>

                        Canvas Area
                        <div class="col-span-12 lg:col-span-9">
                            <div id="contentBuilderArea"
                                class="min-h-[400px] p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800">
                                <div class="text-center text-gray-400 py-12">
                                    <span class="material-symbols-outlined text-6xl mb-4 block">widgets</span>
                                    <p class="text-lg">Drag & Drop Content Blocks Here</p>
                                    <p class="text-sm mt-2">Start building your blog content visually</p>
                                </div>
                            </div>

                            Builder Actions
                            <div class="flex gap-3 mt-4">
                                <button type="button" onclick="saveBuilderToForm()"
                                    class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:scale-105 transition-all flex items-center gap-2">
                                    <span class="material-symbols-outlined text-sm">save</span>
                                    Save to Form
                                </button>
                                <button type="button" onclick="previewBuilderContent()"
                                    class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:scale-105 transition-all flex items-center gap-2">
                                    <span class="material-symbols-outlined text-sm">visibility</span>
                                    Preview
                                </button>
                                <button type="button" onclick="clearBuilderContent()"
                                    class="px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:scale-105 transition-all flex items-center gap-2">
                                    <span class="material-symbols-outlined text-sm">delete_sweep</span>
                                    Clear All
                                </button>
                            </div>
                        </div>
                    </div>

                    Hidden field to store builder JSON
                    <input type="hidden" id="contentBuilderData" value="">
                </div> -->
                    </div>



                    <!-- Image Upload Section with Drag & Drop -->
                    <div class="space-y-4">
                        <label class="block text-sm font-medium mb-2">Featured Image</label>

                        <!-- Drag and Drop Zone -->
                        <div id="dropZone"
                            class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-all bg-gray-50 dark:bg-gray-800/50">
                            <div id="dropZoneContent">
                                <span
                                    class="material-symbols-outlined text-6xl text-gray-400 mb-4 block">cloud_upload</span>
                                <p class="text-lg font-medium text-gray-700 dark:text-gray-300 mb-2">Drag & Drop
                                    Image Here</p>
                                <p class="text-sm text-gray-500 mb-4">or click to browse files</p>
                                <p class="text-xs text-gray-400">Supported formats: JPG, PNG, GIF, WebP (Max: 5MB)
                                </p>
                            </div>

                            <!-- Loading State -->
                            <div id="uploadLoading" class="hidden">
                                <div class="flex flex-col items-center">
                                    <div class="loading-spinner w-12 h-12 mb-4"></div>
                                    <p class="text-gray-600 dark:text-gray-400">Uploading image...</p>
                                </div>
                            </div>

                            <!-- Preview Image -->
                            <div id="imagePreviewContainer" class="hidden">
                                <img id="imagePreview" src="" alt="Preview"
                                    class="max-w-full max-h-64 mx-auto rounded-lg shadow-lg">
                                <div class="mt-4 flex justify-center gap-2">
                                    <button type="button" onclick="removeImage()"
                                        class="px-4 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 flex items-center gap-2">
                                        <span class="material-symbols-outlined text-sm">delete</span>
                                        Remove
                                    </button>
                                    <button type="button" onclick="changeImage()"
                                        class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 flex items-center gap-2">
                                        <span class="material-symbols-outlined text-sm">swap_horiz</span>
                                        Change
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Hidden file input -->
                        <input type="file" id="imageUploadInput" accept="image/jpeg,image/png,image/gif,image/webp"
                            class="hidden">

                        <!-- Hidden URL input (to store uploaded image URL) -->
                        <input type="hidden" id="featuredImage" value="">
                    </div>

                    <!-- Read Time -->
                    <div>
                        <label class="block text-sm font-medium mb-2">Read Time (minutes)</label>
                        <input type="number" id="readTime" placeholder="5" min="1"
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>


                    <!-- Template & Font Style Section -->
                    <div class="glass-card p-6 rounded-lg mb-6">
                        <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                            <span class="material-symbols-outlined text-primary">palette</span>
                            Blog Customization
                        </h3>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Template Selection -->
                            <div>
                                <label class="block text-sm font-medium mb-2">Blog Template</label>
                                <select id="blogTemplate"
                                    class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                                    <option value="default">Default - Clean & Simple</option>
                                    <option value="modern">Modern - Bold & Colorful</option>
                                    <option value="minimal">Minimal - Typography Focused</option>
                                    <option value="magazine">Magazine - Rich Media</option>
                                    <option value="tech">Tech - Code Friendly</option>
                                    <option value="creative">Creative - Artistic</option>
                                </select>
                                <p class="text-xs text-gray-500 mt-1">Choose a layout style for your blog post</p>
                            </div>

                            <!-- Font Style -->
                            <div>
                                <label class="block text-sm font-medium mb-2">Font Style</label>
                                <select id="fontStyle"
                                    class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                                    <option value="default">Default (Noto Sans & Serif)</option>
                                    <option value="modern">Modern (Inter & Outfit)</option>
                                    <option value="classic">Classic (Georgia & Arial)</option>
                                    <option value="tech">Tech (Roboto Mono)</option>
                                    <option value="elegant">Elegant (Playfair & Lato)</option>
                                    <option value="bold">Bold (Montserrat)</option>
                                </select>
                                <p class="text-xs text-gray-500 mt-1">Choose typography for your content</p>
                            </div>
                        </div>

                        <!-- Template Preview -->
                        <div class="mt-4 flex gap-2">
                            <button type="button" onclick="previewBlogTemplate()"
                                class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2">
                                <span class="material-symbols-outlined text-sm">visibility</span>
                                Preview Template
                            </button>
                            <button type="button" onclick="resetTemplate()"
                                class="px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700">
                                Reset to Default
                            </button>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium mb-2">Tags (comma-separated)</label>
                            <input type="text" id="tags" placeholder="tag1, tag2, tag3"
                                class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                        </div>
                        <div class="flex items-end gap-4">
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" id="isFeatured" class="w-4 h-4">
                                <span class="text-sm font-medium">Featured</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" id="isPublished" class="w-4 h-4">
                                <span class="text-sm font-medium">Publish Now</span>
                            </label>
                        </div>
                    </div>

                    <div class="flex gap-4 pt-4">
                        <button type="button" onclick="previewFullBlog()"
                            class="px-8 py-3 rounded-lg font-medium border-2 border-primary text-primary hover:bg-primary hover:text-white flex items-center gap-2">
                            <span class="material-symbols-outlined">visibility</span>
                            Preview Blog
                        </button>
                        <button type="submit"
                            class="admin-btn-primary text-white px-8 py-3 rounded-lg font-medium flex-1">
                            Create Blog
                        </button>
                        <button type="reset"
                            class="px-8 py-3 rounded-lg font-medium border-2 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800">
                            Clear
                        </button>
                    </div>
                    </form>
                </div>

                <!-- User Management Tab -->
                <div id="users" class="tab-container">
                    <h2 class="text-3xl font-bold mb-6">User Management</h2>

                    <div class="glass-card rounded-lg overflow-hidden">
                        <table class="admin-table w-full">
                            <thead>
                                <tr>
                                    <th class="px-6 py-4 text-left">User</th>
                                    <th class="px-6 py-4 text-left">Email</th>
                                    <th class="px-6 py-4 text-left">Role</th>
                                    <th class="px-6 py-4 text-left">Joined</th>
                                    <th class="px-6 py-4 text-center">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersList">
                                <tr>
                                    <td colspan="5" class="px-6 py-8 text-center text-gray-500">
                                        <div class="flex justify-center">
                                            <div class="loading-spinner"></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Applications Tab -->
                <div id="applications" class="tab-container">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold">Loan Applications</h2>
                        <div class="flex gap-2">
                            <button onclick="loadApplications()"
                                class="p-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700">
                                <span class="material-symbols-outlined">refresh</span>
                            </button>
                        </div>
                    </div>

                    <!-- Filter Options -->
                    <div class="glass-card p-4 rounded-lg mb-6 flex flex-col md:flex-row gap-4">
                        <input type="text" id="searchApplications" placeholder="Search by name, email or app ID..."
                            class="flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                        <select id="filterAppStatus"
                            class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                            <option value="">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="submitted">Submitted</option>
                            <option value="approved">Approved</option>
                            <option value="rejected">Rejected</option>
                        </select>
                        <button onclick="loadApplications()"
                            class="admin-btn-primary text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2">
                            <span class="material-symbols-outlined">search</span>
                            Search
                        </button>
                    </div>

                    <!-- Applications Table -->
                    <div class="glass-card rounded-lg overflow-hidden">
                        <table class="admin-table w-full">
                            <thead>
                                <tr>
                                    <th class="px-6 py-4 text-left">App ID</th>
                                    <th class="px-6 py-4 text-left">Applicant</th>
                                    <th class="px-6 py-4 text-left">Loan Details</th>
                                    <th class="px-6 py-4 text-left">Amount</th>
                                    <th class="px-6 py-4 text-left">Status</th>
                                    <th class="px-6 py-4 text-left">Date</th>
                                    <th class="px-6 py-4 text-center">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="applicationsList">
                                <tr>
                                    <td colspan="7" class="px-6 py-8 text-center text-gray-500">
                                        <div class="flex justify-center">
                                            <div class="loading-spinner"></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Community Management Tab -->
                <div id="community" class="tab-container">
                    <h2 class="text-3xl font-bold mb-6">Community Management</h2>

                    <!-- Community Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-6 mb-8">
                        <div class="stat-card glass-card p-6 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm font-medium mb-2">Mentors</p>
                                    <p class="text-3xl font-bold" id="totalMentors">0</p>
                                </div>
                                <span class="material-symbols-outlined text-3xl text-primary opacity-30">person</span>
                            </div>
                        </div>
                        <div class="stat-card glass-card p-6 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm font-medium mb-2">Events</p>
                                    <p class="text-3xl font-bold text-blue-600" id="totalEvents">0</p>
                                </div>
                                <span class="material-symbols-outlined text-3xl text-blue-600 opacity-30">event</span>
                            </div>
                        </div>
                        <div class="stat-card glass-card p-6 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm font-medium mb-2">Success Stories
                                    </p>
                                    <p class="text-3xl font-bold text-green-600" id="totalStories">0</p>
                                </div>
                                <span class="material-symbols-outlined text-3xl text-green-600 opacity-30">stars</span>
                            </div>
                        </div>
                        <div class="stat-card glass-card p-6 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm font-medium mb-2">Resources</p>
                                    <p class="text-3xl font-bold text-orange-600" id="totalResources">0</p>
                                </div>
                                <span
                                    class="material-symbols-outlined text-3xl text-orange-600 opacity-30">library_books</span>
                            </div>
                        </div>
                        <div class="stat-card glass-card p-6 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm font-medium mb-2">Discussions</p>
                                    <p class="text-3xl font-bold text-purple-600" id="totalForumPosts">0</p>
                                </div>
                                <span class="material-symbols-outlined text-3xl text-purple-600 opacity-30">forum</span>
                            </div>
                        </div>
                    </div>

                    <!-- Community Sub-tabs -->
                    <div class="flex gap-2 mb-6 border-b border-gray-300 dark:border-gray-700">
                        <button onclick="switchCommunityTab('mentorship')"
                            class="community-tab-button tab-button active">
                            <span class="material-symbols-outlined text-sm">person</span>
                            Mentorship
                        </button>
                        <button onclick="switchCommunityTab('events')" class="community-tab-button tab-button">
                            <span class="material-symbols-outlined text-sm">event</span>
                            Events
                        </button>
                        <button onclick="switchCommunityTab('stories')" class="community-tab-button tab-button">
                            <span class="material-symbols-outlined text-sm">stars</span>
                            Success Stories
                        </button>
                        <button onclick="switchCommunityTab('resources')" class="community-tab-button tab-button">
                            <span class="material-symbols-outlined text-sm">library_books</span>
                            Resources
                        </button>
                        <button onclick="switchCommunityTab('forum')" class="community-tab-button tab-button">
                            <span class="material-symbols-outlined text-sm">forum</span>
                            Forum
                        </button>
                    </div>

                    <!-- Mentorship Sub-tab -->
                    <div id="mentorship-tab" class="community-sub-tab active">
                        <div class="glass-card rounded-lg overflow-hidden">
                            <div
                                class="p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                                <h3 class="text-xl font-bold">Mentorship Programs</h3>
                                <button onclick="openCreateMentorModal()"
                                    class="admin-btn-primary text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2">
                                    <span class="material-symbols-outlined">add</span>
                                    Add Mentor
                                </button>
                            </div>
                            <table class="admin-table w-full">
                                <thead>
                                    <tr>
                                        <th class="px-6 py-4 text-left">Mentor Name</th>
                                        <th class="px-6 py-4 text-left">Expertise</th>
                                        <th class="px-6 py-4 text-left">Sessions</th>
                                        <th class="px-6 py-4 text-left">Status</th>
                                        <th class="px-6 py-4 text-center">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="mentorsList">
                                    <tr>
                                        <td colspan="5" class="px-6 py-8 text-center text-gray-500">
                                            <div class="flex justify-center">
                                                <div class="loading-spinner"></div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Events Sub-tab -->
                    <div id="events-tab" class="community-sub-tab" style="display: none;">
                        <div class="glass-card rounded-lg overflow-hidden">
                            <div
                                class="p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                                <h3 class="text-xl font-bold">Community Events</h3>
                                <button onclick="openCreateEventModal()"
                                    class="admin-btn-primary text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2">
                                    <span class="material-symbols-outlined">add</span>
                                    Add Event
                                </button>
                            </div>
                            <table class="admin-table w-full">
                                <thead>
                                    <tr>
                                        <th class="px-6 py-4 text-left">Event Name</th>
                                        <th class="px-6 py-4 text-left">Date</th>
                                        <th class="px-6 py-4 text-left">Registrations</th>
                                        <th class="px-6 py-4 text-left">Status</th>
                                        <th class="px-6 py-4 text-center">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="eventsList">
                                    <tr>
                                        <td colspan="5" class="px-6 py-8 text-center text-gray-500">
                                            <div class="flex justify-center">
                                                <div class="loading-spinner"></div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Success Stories Sub-tab -->
                    <div id="stories-tab" class="community-sub-tab" style="display: none;">
                        <div class="glass-card rounded-lg overflow-hidden">
                            <div
                                class="p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                                <h3 class="text-xl font-bold">Success Stories</h3>
                                <button onclick="openCreateStoryModal()"
                                    class="admin-btn-primary text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2">
                                    <span class="material-symbols-outlined">add</span>
                                    Add Story
                                </button>
                            </div>
                            <table class="admin-table w-full">
                                <thead>
                                    <tr>
                                        <th class="px-6 py-4 text-left">Student Name</th>
                                        <th class="px-6 py-4 text-left">University</th>
                                        <th class="px-6 py-4 text-left">Loan Amount</th>
                                        <th class="px-6 py-4 text-left">Status</th>
                                        <th class="px-6 py-4 text-center">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="storiesList">
                                    <tr>
                                        <td colspan="5" class="px-6 py-8 text-center text-gray-500">
                                            <div class="flex justify-center">
                                                <div class="loading-spinner"></div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Resources Sub-tab -->
                    <div id="resources-tab" class="community-sub-tab" style="display: none;">
                        <div class="glass-card rounded-lg overflow-hidden">
                            <div
                                class="p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                                <h3 class="text-xl font-bold">Community Resources</h3>
                                <button onclick="openCreateResourceModal()"
                                    class="admin-btn-primary text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2">
                                    <span class="material-symbols-outlined">add</span>
                                    Add Resource
                                </button>
                            </div>
                            <table class="admin-table w-full">
                                <thead>
                                    <tr>
                                        <th class="px-6 py-4 text-left">Resource Title</th>
                                        <th class="px-6 py-4 text-left">Type</th>
                                        <th class="px-6 py-4 text-left">Downloads</th>
                                        <th class="px-6 py-4 text-left">Status</th>
                                        <th class="px-6 py-4 text-center">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="resourcesList">
                                    <tr>
                                        <td colspan="5" class="px-6 py-8 text-center text-gray-500">
                                            <div class="flex justify-center">
                                                <div class="loading-spinner"></div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Forum Sub-tab -->
                    <div id="forum-tab" class="community-sub-tab" style="display: none;">
                        <div class="glass-card rounded-lg overflow-hidden">
                            <div
                                class="p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                                <h3 class="text-xl font-bold">Forum Discussions</h3>
                            </div>
                            <table class="admin-table w-full">
                                <thead>
                                    <tr>
                                        <th class="px-6 py-4 text-left">Title</th>
                                        <th class="px-6 py-4 text-left">Category</th>
                                        <th class="px-6 py-4 text-left">Author</th>
                                        <th class="px-6 py-4 text-left">Stats</th>
                                        <th class="px-6 py-4 text-left">Date</th>
                                        <th class="px-6 py-4 text-center">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="forumList">
                                    <tr>
                                        <td colspan="6" class="px-6 py-8 text-center text-gray-500">
                                            <div class="flex justify-center">
                                                <div class="loading-spinner"></div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Settings Tab -->
                <div id="settings" class="tab-container">
                    <h2 class="text-3xl font-bold mb-6">Admin Settings</h2>

                    <div class="space-y-6">
                        <!-- Profile Settings -->
                        <div class="glass-card p-8 rounded-lg">
                            <h3 class="text-xl font-bold mb-4">Profile Settings</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">Admin Email</label>
                                    <input type="email" id="settingsEmail" disabled
                                        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-800">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Admin Role</label>
                                    <input type="text" value="Administrator" disabled
                                        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-800">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Last Login</label>
                                    <input type="text" id="lastLogin" disabled
                                        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-800">
                                </div>
                            </div>
                        </div>

                        <!-- System Settings -->
                        <div class="glass-card p-8 rounded-lg">
                            <h3 class="text-xl font-bold mb-4">System Settings</h3>
                            <div class="space-y-4">
                                <label class="flex items-center gap-4 cursor-pointer">
                                    <input type="checkbox" checked class="w-4 h-4">
                                    <span class="font-medium">Enable Blog Comments</span>
                                </label>
                                <label class="flex items-center gap-4 cursor-pointer">
                                    <input type="checkbox" checked class="w-4 h-4">
                                    <span class="font-medium">Email Notifications</span>
                                </label>
                                <label class="flex items-center gap-4 cursor-pointer">
                                    <input type="checkbox" class="w-4 h-4">
                                    <span class="font-medium">Maintenance Mode</span>
                                </label>
                            </div>
                        </div>

                        <!-- Danger Zone -->
                        <div class="glass-card p-8 rounded-lg border-2 border-red-200 dark:border-red-900">
                            <h3 class="text-xl font-bold mb-4 text-red-600">Danger Zone</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">These actions cannot be undone.</p>
                            <div class="flex gap-4">
                                <button onclick="clearCache()"
                                    class="px-6 py-2 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 dark:hover:bg-red-900/20">
                                    Clear Cache
                                </button>
                                <button onclick="resetSettings()"
                                    class="px-6 py-2 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 dark:hover:bg-red-900/20">
                                    Reset Settings
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Blog Modal -->
    <div id="editBlogModal" class="modal-overlay">
        <div class="modal-content p-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">Edit Blog Post</h2>
                <button onclick="closeEditModal()"
                    class="material-symbols-outlined text-2xl cursor-pointer hover:text-primary">
                    close
                </button>
            </div>

            <form id="editBlogForm" onsubmit="handleEditBlog(event)" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Blog Title</label>
                        <input type="text" id="editBlogTitle"
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Category</label>
                        <select id="editCategory"
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                            <option value="Finance">Finance</option>
                            <option value="Education">Education</option>
                            <option value="Technology">Technology</option>
                            <option value="News">News</option>
                            <option value="Tips">Tips & Guides</option>
                        </select>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">Excerpt</label>
                    <textarea id="editExcerpt" rows="3"
                        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary resize-none"></textarea>
                </div>

                <div class="flex gap-4">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" id="editIsFeatured" class="w-4 h-4">
                        <span class="text-sm font-medium">Featured</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" id="editIsPublished" class="w-4 h-4">
                        <span class="text-sm font-medium">Published</span>
                    </label>
                </div>

                <div class="flex gap-4 pt-4">
                    <button type="submit" class="admin-btn-primary text-white px-8 py-2 rounded-lg font-medium flex-1">
                        Save Changes
                    </button>
                    <button type="button" onclick="closeEditModal()"
                        class="px-8 py-2 rounded-lg font-medium border-2 border-gray-300 dark:border-gray-600">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Mentor Modal -->
    <div id="mentorModal" class="modal-overlay">
        <div class="modal-content p-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold" id="mentorModalTitle">Add New Mentor</h2>
                <button onclick="closeMentorModal()"
                    class="material-symbols-outlined text-2xl cursor-pointer hover:text-primary">
                    close
                </button>
            </div>
            <form id="mentorForm" onsubmit="handleMentorSubmit(event)" class="space-y-6">
                <input type="hidden" id="mentorId">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Full Name</label>
                        <input type="text" id="mentorName" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Email</label>
                        <input type="email" id="mentorEmail" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">University</label>
                        <input type="text" id="mentorUniversity" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Degree</label>
                        <input type="text" id="mentorDegree" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Country</label>
                        <input type="text" id="mentorCountry" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Loan Bank</label>
                        <input type="text" id="mentorBank" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Loan Amount</label>
                        <input type="number" id="mentorLoanAmount" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Expertise (comma separated)</label>
                        <input type="text" id="mentorExpertise" required placeholder="e.g. Visa, Loans, Accommodation"
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Bio</label>
                    <textarea id="mentorBio" rows="3" required
                        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary resize-none"></textarea>
                </div>
                <div class="flex gap-4 pt-4">
                    <button type="submit" class="admin-btn-primary text-white px-8 py-2 rounded-lg font-medium flex-1">
                        Save Mentor
                    </button>
                    <button type="button" onclick="closeMentorModal()"
                        class="px-8 py-2 rounded-lg font-medium border-2 border-gray-300 dark:border-gray-600">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Event Modal -->
    <div id="eventModal" class="modal-overlay">
        <div class="modal-content p-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold" id="eventModalTitle">Add New Event</h2>
                <button onclick="closeEventModal()"
                    class="material-symbols-outlined text-2xl cursor-pointer hover:text-primary">
                    close
                </button>
            </div>
            <form id="eventForm" onsubmit="handleEventSubmit(event)" class="space-y-6">
                <input type="hidden" id="eventId">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Event Title</label>
                        <input type="text" id="eventTitle" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Type</label>
                        <select id="eventType" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                            <option value="webinar">Webinar</option>
                            <option value="workshop">Workshop</option>
                            <option value="qa">Q&A Session</option>
                            <option value="networking">Networking</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Date</label>
                        <input type="date" id="eventDate" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Time</label>
                        <input type="time" id="eventTime" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Duration (minutes)</label>
                        <input type="number" id="eventDuration" required placeholder="60"
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Speaker</label>
                        <input type="text" id="eventSpeaker"
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Description</label>
                    <textarea id="eventDescription" rows="3" required
                        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary resize-none"></textarea>
                </div>
                <div class="flex gap-4">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" id="eventIsFree" class="w-4 h-4" checked>
                        <span class="text-sm font-medium">Free Event</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" id="eventIsFeatured" class="w-4 h-4">
                        <span class="text-sm font-medium">Featured</span>
                    </label>
                </div>
                <div class="flex gap-4 pt-4">
                    <button type="submit" class="admin-btn-primary text-white px-8 py-2 rounded-lg font-medium flex-1">
                        Save Event
                    </button>
                    <button type="button" onclick="closeEventModal()"
                        class="px-8 py-2 rounded-lg font-medium border-2 border-gray-300 dark:border-gray-600">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Resource Modal -->
    <div id="resourceModal" class="modal-overlay">
        <div class="modal-content p-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold" id="resourceModalTitle">Add New Resource</h2>
                <button onclick="closeResourceModal()"
                    class="material-symbols-outlined text-2xl cursor-pointer hover:text-primary">
                    close
                </button>
            </div>
            <form id="resourceForm" onsubmit="handleResourceSubmit(event)" class="space-y-6">
                <input type="hidden" id="resourceId">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Title</label>
                        <input type="text" id="resourceTitle" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Type</label>
                        <select id="resourceType" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                            <option value="guide">Guide</option>
                            <option value="template">Template</option>
                            <option value="checklist">Checklist</option>
                            <option value="video">Video</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Category</label>
                        <input type="text" id="resourceCategory" required placeholder="e.g. Loan Basics"
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Download/Access URL</label>
                        <input type="url" id="resourceUrl" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Description</label>
                    <textarea id="resourceDescription" rows="3" required
                        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary resize-none"></textarea>
                </div>
                <div class="flex gap-4">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" id="resourceIsFeatured" class="w-4 h-4">
                        <span class="text-sm font-medium">Featured</span>
                    </label>
                </div>
                <div class="flex gap-4 pt-4">
                    <button type="submit" class="admin-btn-primary text-white px-8 py-2 rounded-lg font-medium flex-1">
                        Save Resource
                    </button>
                    <button type="button" onclick="closeResourceModal()"
                        class="px-8 py-2 rounded-lg font-medium border-2 border-gray-300 dark:border-gray-600">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Story Modal -->
    <div id="storyModal" class="modal-overlay">
        <div class="modal-content p-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold" id="storyModalTitle">Add Success Story</h2>
                <button onclick="closeStoryModal()"
                    class="material-symbols-outlined text-2xl cursor-pointer hover:text-primary">
                    close
                </button>
            </div>
            <form id="storyForm" onsubmit="handleStorySubmit(event)" class="space-y-6">
                <!-- Note: Since there is no explicit create admin story endpoint, we will use the submit story public endpoint or just focus on approving...
                     However, the user wants CRUD. I'll adding fields here.
                -->
                <input type="hidden" id="storyId">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Student Name</label>
                        <input type="text" id="storyName" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Email</label>
                        <input type="email" id="storyEmail" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">University</label>
                        <input type="text" id="storyUniversity" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Course/Degree</label>
                        <input type="text" id="storyDegree" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Country</label>
                        <input type="text" id="storyCountry" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Bank</label>
                        <input type="text" id="storyBank" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Loan Amount</label>
                        <input type="number" id="storyLoanAmount" required
                            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Story</label>
                    <textarea id="storyContent" rows="4" required placeholder="Share the journey..."
                        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary resize-none"></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Tips for others</label>
                    <textarea id="storyTips" rows="3"
                        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:border-primary resize-none"></textarea>
                </div>
                <div class="flex gap-4 pt-4">
                    <button type="submit" class="admin-btn-primary text-white px-8 py-2 rounded-lg font-medium flex-1">
                        Save Story
                    </button>
                    <button type="button" onclick="closeStoryModal()"
                        class="px-8 py-2 rounded-lg font-medium border-2 border-gray-300 dark:border-gray-600">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Application Details Modal -->
    <div id="applicationDetailsModal"
        class="z-50 fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm hidden">
        <div
            class="modal-content relative bg-white dark:bg-gray-900 w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl animate-fadeIn">
            <button onclick="closeApplicationModal()"
                class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 z-10 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                <span class="material-symbols-outlined text-2xl">close</span>
            </button>
            <div id="applicationModalContent" class="p-8">
                <!-- Content injected via JS -->
                <div class="text-center py-12">
                    <div class="animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto">
                    </div>
                    <p class="mt-4 text-gray-500">Loading details...</p>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/theme-manager.js"></script>
    <script src="assets/js/auth-guard.js"></script>
    <script src="assets/js/blog-api.js"></script>
    <script src="assets/js/admin-community-crud.js"></script>
    <script src="assets/js/blog-image-upload.js"></script>
    <script src="assets/js/content-builder.js"></script>
    <script src="assets/js/auth-guard.js"></script>
    <script src="assets/js/admin-dashboard.js"></script>

    <!-- Helper Functions for Content Builder -->
    <script>
        // Switch between Simple Editor and Visual Builder
        function switchContentTab(tab) {
            const simpleEditor = document.getElementById('simpleEditor');
            const visualBuilder = document.getElementById('visualBuilder');
            const simpleTab = document.getElementById('simpleEditorTab');
            const visualTab = document.getElementById('visualBuilderTab');

            if (tab === 'simple') {
                simpleEditor.classList.remove('hidden');
                visualBuilder.classList.add('hidden');
                simpleTab.classList.add('border-primary', 'text-primary');
                simpleTab.classList.remove('border-transparent', 'text-gray-600');
                visualTab.classList.remove('border-primary', 'text-primary');
                visualTab.classList.add('border-transparent', 'text-gray-600');
            } else {
                simpleEditor.classList.add('hidden');
                visualBuilder.classList.remove('hidden');
                visualTab.classList.add('border-primary', 'text-primary');
                visualTab.classList.remove('border-transparent', 'text-gray-600');
                simpleTab.classList.remove('border-primary', 'text-primary');
                simpleTab.classList.add('border-transparent', 'text-gray-600');
            }
        }


    </script>
</body>

</html>